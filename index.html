<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Proto SQL</title>
  </head>
  <body>
    sup

    <form>
      <input type="text" name="title" placeholder="title" />
      <input type="text" name="author" placeholder="author" />
      <input type="text" name="age" placeholder="age" />
      <input type="submit" value="My Butaaaah ðŸŽ¯" />
    </form>

    <ul class="table-content"></ul>

    <script>
      console.log("running client");
      let url = "/list";
      const tableEl = document.querySelector(".table-content");

      setInterval(async () => {
        let response = await fetch(url);
        let result = await response.json(); // read response body and parse as JSON

        tableEl.innerHTML = result.map(
          (item) => `<li>${item.author}-${item.title}-${item.age}</li>`
        );
      }, 2000);
    </script>
  </body>
</html>
